<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Making The Shop</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<!-- <script type="text/javascript" src="assets/js/jquery.min.1.7.js"></script> -->
		<script type="text/javascript" src="assets/js/jquery.min.js"></script>
		<script type="text/javascript" src="assets/js/modernizr.2.5.3.min.js"></script>
		<script type="text/javascript" src="assets/js/hash.js"></script>
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-loading">

		<!-- Wrapper -->
			<div id="wrapper" class="fade-in">

				<!-- Header -->
					<header id="header">
						<a href="index.html" class="logo">Making The Shop</a>
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li><a href="index.html">Our Story</a></li>
							<li><a href="team.html">The Team</a></li>
							<li><a href="projects.html">Projects</a></li>
							<li class="active"><a href="reflections.html">Reflections</a></li>
						</ul>
						<ul class="icons">
							<li><a href="http://www.instagram.com/theolinshop" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">
						<!-- Post -->
							<section class="post">
								<header class="major">
									<h1>If I Opened a Machine Shop</h1>
									<h4>A comic by Jayce Chow</h4>
								</header>
								<div id="canvas" overflow="scroll">
									<div class="zoom-icon zoom-icon-in"></div>
									<div class="magazine-viewport">
										<div class="container">
											<div class="magazine">
												<div ignore="1" class="next-button"></div>
												<div ignore="1" class="previous-button"></div>
											</div>
										</div>
									</div>
								</div>
							</section>
				</div>

<!-- Copyright -->
<div id="copyright">
<ul><li></li><li></li></ul>
</div>
</div>
		<!-- Scripts -->
		<script type="text/javascript">

		function loadApp() {

		 	$('#canvas').fadeIn(1000);

		 	var flipbook = $('.magazine');

		 	// Check if the CSS was already loaded

			if (flipbook.width()==0 || flipbook.height()==0) {
				setTimeout(loadApp, 10);
				return;
			}

			// Create the flipbook

			flipbook.turn({

					// Magazine width

					width: 1000,

					// Magazine height

					height: 500,

					// Duration in millisecond

					duration: 1000,

					// Hardware acceleration

					acceleration: !isChrome(),

					// Enables gradients

					gradients: true,

					// Auto center this flipbook

					autoCenter: true,

					// Elevation from the edge of the flipbook when turning a page

					elevation: 50,

					// The number of pages

					pages: 8,

					// Events

					when: {
						turning: function(event, page, view) {

							var book = $(this),
							currentPage = book.turn('page'),
							pages = book.turn('pages');

							// Update the current URI

							Hash.go('page/' + page).update();

							// Show and hide navigation buttons

							disableControls(page);


							$('.thumbnails .page-'+currentPage).
								parent().
								removeClass('current');

							$('.thumbnails .page-'+page).
								parent().
								addClass('current');



						},

						turned: function(event, page, view) {

							disableControls(page);

							$(this).turn('center');

							if (page==1) {
								$(this).turn('peel', 'br');
							}

						},

						missing: function (event, pages) {

							// Add pages that aren't in the magazine

							for (var i = 0; i < pages.length; i++)
								addPage(pages[i], $(this));

						}
					}

			});

			// Zoom.js

			$('.magazine-viewport').zoom({
				flipbook: $('.magazine'),

				max: function() {

					return largeMagazineWidth()/$('.magazine').width();

				},

				when: {

					swipeLeft: function() {

						$(this).zoom('flipbook').turn('next');

					},

					swipeRight: function() {

						$(this).zoom('flipbook').turn('previous');

					},

					resize: function(event, scale, page, pageElement) {

						if (scale==1)
							loadSmallPage(page, pageElement);
						else
							loadLargePage(page, pageElement);

					},

					zoomIn: function () {

						$('.thumbnails').hide();
						$('.made').hide();
						$('.magazine').removeClass('animated').addClass('zoom-in');
						$('.zoom-icon').removeClass('zoom-icon-in').addClass('zoom-icon-out');

						if (!window.escTip && !$.isTouch) {
							escTip = true;

							$('<div />', {'class': 'exit-message'}).
								html('<div>Press ESC to exit</div>').
									appendTo($('body')).
									delay(2000).
									animate({opacity:0}, 500, function() {
										$(this).remove();
									});
						}
					},

					zoomOut: function () {

						$('.exit-message').hide();
						$('.thumbnails').fadeIn();
						$('.made').fadeIn();
						$('.zoom-icon').removeClass('zoom-icon-out').addClass('zoom-icon-in');

						setTimeout(function(){
							$('.magazine').addClass('animated').removeClass('zoom-in');
							resizeViewport($('header.major').outerWidth(), $('header.major').outerWidth()*0.65);;
						}, 0);

					}
				}
			});

			// Zoom event

			if ($.isTouch)
				$('.magazine-viewport').bind('zoom.doubleTap', zoomTo);
			else
				$('.magazine-viewport').bind('zoom.tap', zoomTo);


			// Using arrow keys to turn the page

			$(document).keydown(function(e){

				var previous = 37, next = 39, esc = 27;

				switch (e.keyCode) {
					case previous:

						// left arrow
						$('.magazine').turn('previous');
						e.preventDefault();

					break;
					case next:

						//right arrow
						$('.magazine').turn('next');
						e.preventDefault();

					break;
					case esc:

						$('.magazine-viewport').zoom('zoomOut');
						e.preventDefault();

					break;
				}
			});

			// URIs - Format #/page/1

			Hash.on('^page\/([0-9]*)$', {
				yep: function(path, parts) {
					var page = parts[1];

					if (page!==undefined) {
						if ($('.magazine').turn('is'))
							$('.magazine').turn('page', page);
					}

				},
				nop: function(path) {

					if ($('.magazine').turn('is'))
						$('.magazine').turn('page', 1);
				}
			});


			$(window).resize(function() {
				resizeViewport($('header.major').outerWidth(), $('header.major').outerWidth()*0.65);
			}).bind('orientationchange', function() {
				resizeViewport($('header.major').outerWidth(), $('header.major').outerWidth()*0.65);;
			});

			// Events for thumbnails

			$('.thumbnails').click(function(event) {

				var page;

				if (event.target && (page=/page-([0-9]+)/.exec($(event.target).attr('class'))) ) {

					$('.magazine').turn('page', page[1]);
				}
			});

			$('.thumbnails li').
				bind($.mouseEvents.over, function() {

					$(this).addClass('thumb-hover');

				}).bind($.mouseEvents.out, function() {

					$(this).removeClass('thumb-hover');

				});

			if ($.isTouch) {

				$('.thumbnails').
					addClass('thumbanils-touch').
					bind($.mouseEvents.move, function(event) {
						event.preventDefault();
					});

			} else {

				$('.thumbnails ul').mouseover(function() {

					$('.thumbnails').addClass('thumbnails-hover');

				}).mousedown(function() {

					return false;

				}).mouseout(function() {

					$('.thumbnails').removeClass('thumbnails-hover');

				});

			}


			// Regions

			if ($.isTouch) {
				$('.magazine').bind('touchstart', regionClick);
			} else {
				$('.magazine').click(regionClick);
			}

			// Events for the next button

			$('.next-button').bind($.mouseEvents.over, function() {

				$(this).addClass('next-button-hover');

			}).bind($.mouseEvents.out, function() {

				$(this).removeClass('next-button-hover');

			}).bind($.mouseEvents.down, function() {

				$(this).addClass('next-button-down');

			}).bind($.mouseEvents.up, function() {

				$(this).removeClass('next-button-down');

			}).click(function() {

				$('.magazine').turn('next');

			});

			// Events for the next button

			$('.previous-button').bind($.mouseEvents.over, function() {

				$(this).addClass('previous-button-hover');

			}).bind($.mouseEvents.out, function() {

				$(this).removeClass('previous-button-hover');

			}).bind($.mouseEvents.down, function() {

				$(this).addClass('previous-button-down');

			}).bind($.mouseEvents.up, function() {

				$(this).removeClass('previous-button-down');

			}).click(function() {

				$('.magazine').turn('previous');

			});


			resizeViewport($('header.major').outerWidth(), $('header.major').outerWidth()*0.65);;

			$('.magazine').addClass('animated');

		}

		// Zoom icon

		 $('.zoom-icon').bind('mouseover', function() {

		 	if ($(this).hasClass('zoom-icon-in'))
		 		$(this).addClass('zoom-icon-in-hover');

		 	if ($(this).hasClass('zoom-icon-out'))
		 		$(this).addClass('zoom-icon-out-hover');

		 }).bind('mouseout', function() {

		 	 if ($(this).hasClass('zoom-icon-in'))
		 		$(this).removeClass('zoom-icon-in-hover');

		 	if ($(this).hasClass('zoom-icon-out'))
		 		$(this).removeClass('zoom-icon-out-hover');

		 }).bind('click', function() {

		 	if ($(this).hasClass('zoom-icon-in'))
		 		$('.magazine-viewport').zoom('zoomIn');
		 	else if ($(this).hasClass('zoom-icon-out'))
				$('.magazine-viewport').zoom('zoomOut');

		 });

		 $('#canvas').hide();


		// Load the HTML4 version if there's not CSS transform

		yepnope({
			test : Modernizr.csstransforms,
			yep: ['assets/js/turn.js'],
			nope: ['assets/js/turn.html4.min.js'],
			both: ['assets/js/zoom.min.js', 'assets/js/magazine.js', 'assets/css/magazine.css'],
			complete: loadApp
		});

		</script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
